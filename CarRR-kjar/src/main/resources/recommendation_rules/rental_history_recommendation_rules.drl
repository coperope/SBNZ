//created on: May 18, 2020
package recommendation_rules

//list any import classes here.
import main.facts.Customer;
import main.facts.RentalRecommendations;
import main.facts.Category;
import main.facts.Tag;
import main.facts.Brand;
import main.facts.Fuel;
import main.facts.Transmission;
import main.facts.CustomerPreferences;
import main.facts.Vehicle;
import main.facts.RentalHistory;


rule "Rental history seatsNo rule"
no-loop true
lock-on-active true
    when
        Customer($rentalHistory: rentalHistory)
        RentalHistory($rentalHistorySeatsNo: seatsNo) from $rentalHistory

        $rr: RentalRecommendations()
        $vehicle: Vehicle($seatsNo: seatsNo)
    then
        modify ($rr) {addHits($vehicle, $rentalHistrySeatsNo.get($seatsNo))}
end

rule "Rental history doorNo rule"
no-loop true
lock-on-active true
    when
        Customer($rentalHistory: rentalHistory)
        RentalHistory($rentalHistoryDoorNo: doorNo) from $rentalHistory

        $rr: RentalRecommendations()
        $vehicle: Vehicle($doorNo: doorNo)
    then
        modify ($rr) {addHits($vehicle, $rentalHistoryDoorNo.get($doorNo))}
end

rule "Rental history Fuel Consumption rule"
no-loop true
lock-on-active true
    when
        Customer($rentalHistory: rentalHistory)
        RentalHistory($rentalHistoryFuelConsumption: fuelConsumption) from $rentalHistory

        $rr: RentalRecommendations()
        $vehicle: Vehicle($fuelConsumption: fuelConsumption)
    then
        modify ($rr) {addHits($vehicle, $rentalHistoryFuelConsumption.get($fuelConsumption))}
end

